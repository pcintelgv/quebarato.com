(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[85600],{18946:function(e,t,a){"use strict";a.d(t,{Z:function(){return S}});var n=a(14710),r=a(42081),o=a(6329),l=a(1865),c=a(59741),s=a(35824),i=a(61171),u=a(46034),d=a(85112),h=a(71944),v=a(94065),f=a(31524),m=a(31245),g=a(68248),p=a.n(g),y=a(86567),w=a(19004);let fetch=async(e,t,a)=>{let{searchParametersZsearch:n}=e;try{if(n){var r,o;let e=await (0,w.Z)({query:n.query||"",refinements:n.refinements,hitsPerPage:n.hitsPerPage||12,userToken:(0,y.wI)(),device:t,traffic:"carousel",view:a||"product_page"},null);if(p()(null==e?void 0:null===(o=e.serp)||void 0===o?void 0:null===(r=o.result)||void 0===r?void 0:r.hits))return e.serp.result.hits}}catch(e){}return[]};var I=a(9146),C=a.n(I);let mapUrlsToGivenBrand=(e,t)=>e.map(e=>({...e,url:"https://".concat(t.BRAND_SITE).concat(e.url),useCustomUrl:!0})),fetchData=async(e,t,a,n)=>mapUrlsToGivenBrand(await fetch(e,(0,v.Z)(t),a),n);var S=(0,f.Z)(r.memo(e=>{var t;let{content:a,channelModifier:v=0,analyticsDispatch:f,pageOrigin:g,price:p,productIdsToRemove:y,brand:w}=e,I=(0,o.I0)(),[S,_]=(0,r.useState)(null),[P,Z]=(0,r.useState)(4),[b,E]=(0,r.useState)(!1),{sectionHeader:x,seeMoreUrl:T}=a,j=(0,u.gL)(g);return((0,r.useEffect)(()=>{let getItems=async()=>{E(!0);try{var e;let t=await fetchData(a,null===(e=navigator)||void 0===e?void 0:e.userAgent,g,w);(null==y?void 0:y.length)&&(t=t.filter(e=>!y.includes(e.sourceId))),_(t)}catch(e){d.Z.error("Error on fetchProductItemsShowcase",e),_([])}finally{E(!1)}};S||b||getItems()},[a,S,b,g,y,w]),(0,r.useEffect)(()=>{_(null)},[null==a?void 0:null===(t=a.searchParametersZsearch)||void 0===t?void 0:t.query,p]),(null==S?void 0:S.length)||b)?(0,n.jsx)("div",{id:(0,s.Z)("productItemsShowcase"),"data-testid":"ProductItemsShowcaseComponent",className:C().ProductItemsShowcase_Container,children:(0,n.jsxs)(c.Z,{title:x.Title,subtitle:x.Subtitle,flow:x.Flow.toLowerCase(),content:"article",beforeChange:()=>{P<S.length&&Z(S.length)},pageName:j,seeMoreUrl:T,children:[b&&!(null==S?void 0:S.length)&&[...Array(P)].map((e,t)=>(0,n.jsx)(l.Z,{state:"loading"},t)),S&&S.slice(0,P).map((e,t)=>(0,n.jsx)(m.a,{index:t,isLoading:!1,analyticsDispatch:f,id:"product-card-".concat(null==e?void 0:e.sourceId),testId:"product-card",hit:e,category:x.GAEventCategory,pagetype:j,channel:e.isSponsored?void 0:v,onCensoredChange:I(h.uM),event:{category:g,action:"".concat(x.GAEventCategory,"_click-product"),label:e.name,value:0,trail_name:(0,i.l)(x.Title)}},"".concat(null==e?void 0:e.type,"-").concat(null==e?void 0:e.objectId))),S&&P!==S.length&&[...Array(Math.abs(P-S.length))].map((e,t)=>(0,n.jsx)(r.Fragment,{},t))]},"".concat(x.Title,"+").concat(x.Subtitle))}):null}))},20600:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return n.Z}});var n=a(18946)},9146:function(e){e.exports={ProductItemsShowcase_Container:"ProductItemsShowcase_ProductItemsShowcase_Container__0toCJ"}}}]);