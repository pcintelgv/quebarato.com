"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[19956],{51509:function(e,t,a){a.d(t,{tG:function(){return getAllCategories},qy:function(){return getBreadcrumbBySlug},ax:function(){return getCategoryById}});var r=a(44232),n=a(83323),o=a(10974),i=a(69595);let l=i.Z&&!o.Z?"http://prod-category-api.vpc-zoom-01":"https://api-v1.zoom.com.br",getCategoryById=e=>(0,r.ZP)("".concat(l,"/category/").concat(e),{timeout:(0,n.Z)(10)}),getBreadcrumbBySlug=e=>(0,r.ZP)("".concat(l,"/category/").concat(e,"/breadcrumb"),{timeout:(0,n.Z)(10)}),getAllCategories=()=>(0,r.ZP)(o.Z?"".concat(l,"/category/categories"):"".concat(l,"/categories"),{timeout:(0,n.Z)(10)})},34353:function(e,t,a){a.d(t,{j:function(){return getVariantFeature}});var r=a(32971);let getVariantFeature=e=>{var t;let{toggles:a,toggleName:n,partition:o,conditions:i=!0}=e,l=null==a?void 0:a[n],s=null===(t=null==a?void 0:a.userPartition)||void 0===t?void 0:t.name,c=null==l?void 0:l.name,d=null==l?void 0:l.isForced,u=(0,r.nV)(c),v=o.includes(s),p=d?null==l?void 0:l.enabled:(null==l?void 0:l.enabled)&&v&&i;return{enabled:p,name:c,variant:p?u:"a",isForced:d}}},32971:function(e,t,a){var r,n;a.d(t,{PC:function(){return getDynamicExperimentVersion},nV:function(){return parseVariationName}}),(n=r||(r={}))[n.alpha=0]="alpha",n[n.bravo=1]="bravo",n[n.charlie=2]="charlie",n[n.delta=3]="delta",n[n.echo=4]="echo";let parseVariationName=e=>{var t;return null==e?void 0:null===(t=e.toLocaleLowerCase())||void 0===t?void 0:t.replace("variant-","")},getDynamicExperimentVersion=(e,t)=>{var a;let r=parseVariationName(e);if((null==r?void 0:r.length)>1)throw Error("Experiment: ".concat(t," - Variant name must be Variant-A, Variant-B, Variant-C, Variant-D, etc... Please read the docs at Confluence"));return(null==r?void 0:null===(a=r.toLowerCase())||void 0===a?void 0:a.charCodeAt())-97}},60698:function(e,t){t.Z=(e,t)=>{if(t){var a;return(null==e?void 0:null===(a=e.req)||void 0===a?void 0:a.headers)||{}}return{}}},95773:function(e,t){t.Z=e=>/Mobi/.test(e)},24099:function(e,t){t.Z=e=>Promise.resolve()},40852:function(e,t,a){a.d(t,{iA:function(){return selectConvSearchStore},jB:function(){return selectConvSearchCurrentStep}});var r=a(86861);let selectConvSearchStore=e=>e[r.nZ],selectConvSearchCurrentStep=e=>selectConvSearchStore(e).currentStep},22506:function(e,t,a){a.d(t,{D8:function(){return fetchRoute},N3:function(){return fetchSearchRoute},l0:function(){return translateSearchURL}});var r=a(43102),n=a(66057),o=a(44232),i=a(83323),l=a(10974),s=a(69595);let c=s.Z&&!l.Z?"http://prod-router-api.vpc-zoom-01":"https://api-v1.zoom.com.br";function fetchRoute(e){let{route:t,params:a,options:l}=e,s=a||{};s.mosaico_brand=n.default.BRAND_NAME_LOWERED;let d=t.includes("?")?"&":"?",u="".concat(c,"/routes").concat(t).concat(d).concat((0,r.stringify)(s));return(0,o.ZP)(u,{timeout:(0,i.Z)(10),...l})}function fetchSearchRoute(e,t){return fetchRoute({route:"/search",params:{q:e},options:t})}let translateSearchURL=async e=>{let t=e.replace("/searchtranslate",""),a="".concat(c,"/routes/beautify").concat(t),r=await (0,o.ZP)(a,{timeout:(0,i.Z)(2)});return r}},63138:function(e,t,a){a.d(t,{Q:function(){return selectDealsShowcaseStore}});var r=a(44942);let selectDealsShowcaseStore=e=>e[r.yl]},26057:function(e,t,a){a.d(t,{MM:function(){return fetchMerchantCashbacks}});var r=a(69106),n=a.n(r),o=a(49882),i=a(70488),l=a(55331);let fetchMerchantCashbacks=()=>async(e,t)=>{let a=t(),r=(0,i.b)(a),s=!n()(null==r?void 0:r.rates),c=null==r?void 0:r.isFetching;if(!s&&!c)try{e({type:l.rL,isFetching:!0});let t=await (0,o.G)();e({type:l.Hr,payload:t})}catch(t){e({type:l.qR,error:!0})}}},63339:function(e,t,a){a.d(t,{PD:function(){return fetchContentSnippets}});var r=a(82156);let getContentSnippets=async e=>{let{path:t,brand:a}=e,n=new URLSearchParams({tenant:"DEFAULT",path:t,brand:a});return(0,r.Z)("/sherlock/search_content_snippets/1?".concat(n),{headers:{Accept:"application/json","Content-Type":"application/json"}})};var n=a(46800);let fetchContentSnippets=e=>{let{path:t,brand:a}=e;return async e=>{var r,o;let i=t;i.endsWith("?")&&(i=i.slice(0,-1)),e({type:n.D3});try{let{content_snippets:t}=await getContentSnippets({path:i,brand:a});e((r={...null==t?void 0:t.result},{type:n.i7,payload:r}))}catch(t){e((o=t.message,{type:n.a2,payload:o.message,error:!0}))}}}},31351:function(e,t,a){a.d(t,{EN:function(){return searchSetHitsPerPage},ON:function(){return searchSetLastView},UH:function(){return buildSearchStateFromUrl},dP:function(){return setUserToken},iY:function(){return searchSetPageTitle},n7:function(){return searchSetRefinements},pY:function(){return searchSetIndex},tB:function(){return searchSetDeviceType}});var r=a(96755);function buildSearchStateFromUrl(e){return{type:r.jb,payload:e}}let searchSetHitsPerPage=e=>({type:r.IS,payload:e}),searchSetIndex=e=>({type:r.Dr,payload:e}),searchSetLastView=e=>({type:r.JX,payload:e}),searchSetPageTitle=e=>({type:r.z1,payload:e}),searchSetRefinements=e=>({type:r.tO,payload:e}),setUserToken=e=>({type:r.y3,payload:e}),searchSetDeviceType=e=>({type:r.TK,payload:e})},27506:function(e,t,a){a.d(t,{mY:function(){return fetchOther},on:function(){return fetchSearch},h:function(){return newSetInitialInformation},to:function(){return searchStateFromUrl}});var r=a(69106),n=a.n(r),o=a(43102),i=a.n(o),l=a(6329),s=a(52971),c=a(51509),d=a(9373),u=a(58716);let fetch=e=>async(t,a)=>{await (0,d.I)("Search/fetchBreadcrumbs",async()=>{var r;if(a().category[e]||!e){t({type:u.k8,meta:{categoryId:e}});return}t({type:u.Bs,meta:{categoryId:e}});try{let a=await (0,c.qy)(e);t({type:u.af,meta:{categoryId:e},payload:a})}catch(a){t((r=a.message,{type:u.wQ,payload:r.message,meta:{categoryId:e},error:!0}))}})};var v=a(24099),p=a(77610),h=a(87010),f=a(18416),y=a(39231),g=a(53559),S=a(31351),m=a(98904),b=a(34353),w=a(66057),C=a(31149),F=a(69595),I=a(82156);let zSearchSponsoredsFetch=async(e,t)=>{let{refinements:a,query:r,hitsPerPage:n=36,page:o=0,view:i="product_page",client:l="desktop",disableRefinementsStats:s=!0,enableCategorySuggestion:c=!0}=e,d={pagination:{hitsPerPage:n,page:o},query:r,order:"default",disableRefinementsStats:s,enableCategorySuggestion:c,refinements:a,origin:{brand:"quebarato",view:i,client:l},affiliateId:w.default.CASHBACK_AFFILIATE_ID_WEB},u=C.Z?"sherlock/sponsoreds/1":"sherlock/sponsoreds_light/1";return(0,I.L)(u,d,{headers:F.Z?{"user-agent":t["user-agent"],host:t.host,referer:t.referer,"cache-control":t["cache-control"]}:{}})},fetchSponsoredsByQuery=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0,{sponsoreds:r}=await zSearchSponsoredsFetch({refinements:e,query:t},a);return r.result.hits};var P=a(80382);let sponsoredFetchRequested=(e,t)=>({type:P.ib,meta:{refinements:e,queryTerm:t}}),sponsoredFetchSucceeded=e=>({type:P.P1,payload:e}),sponsoredFetchSkipped=()=>({type:P.pb}),sponsoredFetchFailed=e=>({type:P.jc,payload:e.message}),fetchSponsored=(e,t,a)=>async r=>{r(sponsoredFetchRequested(e,t));try{var n;let o=await fetchSponsoredsByQuery(e,t,a.headers),i=null==o?void 0:null===(n=o.slice(0,3))||void 0===n?void 0:n.map(e=>{var t,a,r;let n={cashback:e.cashback,isSponsored:!0,objectId:e.objectID,url:"/lead",type:"offer",name:e.name,image:e.image,price:e.price,stamps:[],offerId:null===(t=e.sponsoredOffer)||void 0===t?void 0:t.offerID,merchant:{name:null===(a=e.sponsoredOffer)||void 0===a?void 0:a.sellerName,image:null===(r=e.sponsoredOffer)||void 0===r?void 0:r.sellerLogoURL}};return n});r(sponsoredFetchSucceeded(i))}catch(e){r(sponsoredFetchFailed(e))}};var A=a(69459),D=a(63790),_=a(40852),Z=a(86861);function convSearchActionFailed(){return{type:Z.dX}}function convSearchActionSkipped(){return{type:Z.pB}}let handleConvSearchAction=e=>{let{convSearch:t,currentStep:a}=e;return async(e,r)=>{e({type:Z.mT});try{var n,o;if(!t){e(convSearchActionSkipped());return}if((null==t?void 0:null===(n=t.details)||void 0===n?void 0:n.status)===204){let t=(0,_.jB)(r());e(t>0?{type:Z.Nv}:convSearchActionSkipped());return}if((null==t?void 0:null===(o=t.details)||void 0===o?void 0:o.status)>204){e(convSearchActionFailed());return}let{data:i,nextStep:l}=t.result;e({type:Z.lJ,payload:{stepData:i,currentStep:a,nextStep:l}})}catch(t){e(convSearchActionFailed())}}};var k=a(40665),E=a(28114),R=a(94350);let fetchAllHits=function(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return async(n,o)=>{await (0,d.I)("Search/fetchHits",async()=>{var i,c;let d=(null==e?void 0:null===(i=e.query)||void 0===i?void 0:i.trim())||"",u=o(),v=(0,A.dA)(u),w=(0,k.nY)(u),C=null!==(c=(0,m.QV)(u))&&void 0!==c?c:0,F=(0,y.p1)(u),I=(0,m.MS)(u),P=null==v?void 0:v.zSearchAutoFilters,_=null==v?void 0:v.showConvSearch,Z=(h.I9||h.Op)&&_,q=(0,b.j)({toggles:v,toggleName:s.qT,partition:s.qf}),B=null==v?void 0:v.isBlackfriday,L=(null==q?void 0:q.enabled)&&p.ZP||q.isForced,T={id:"abZSearchNewModels",variant:null==q?void 0:q.variant},N={...e,query:d,device:w,declinedRefinementSuggestions:F,featureFlags:{ROCKIE_REFINEMENTS:!r&&P},experiment:L?T:null,enableCategorySuggestion:"true",enableConvSearchRequest:Z,convSearchStep:C,disableRefinementsStats:a,enableRefinementsSuggestions:I,detachStampsRefinements:!0,priceTipDateRange:r?B?"sixmonths":"fortydays":void 0};(0,l.dC)(()=>{n({type:R.bK,meta:{query:d}}),n((0,E.ei)(null==e?void 0:e.faqQuery)),n((0,f.om)(d)),n(sponsoredFetchSucceeded([]))});try{let{serp:{result:{hits:r,refinements:o,pagination:i,index:s,queryId:c,isIndexable:u}},convsearch:v,seller:p,faq:h,coupons:y}=await (0,D.dv)(N,t);(0,l.dC)(()=>{var t,l;p&&n((0,g._j)({...p,term:d})),y&&n((0,g.ms)(y)),n((l=Array.isArray(r)?r:[],{type:R.fU,meta:{query:d,queryId:c},payload:{hits:l,pagination:i,isIndexable:u,isInfinityScroll:a}})),n(handleConvSearchAction({convSearch:v,currentStep:C})),n((0,E.pJ)(null==e?void 0:e.faqQuery,(null==h?void 0:null===(t=h.result)||void 0===t?void 0:t.hits)||[])),n((0,S.pY)(s)),a||n((0,f.zF)(d,o))})}catch(t){(0,l.dC)(()=>{var a;n((0,f.GK)(d,t.message)),n((a=t.type,{type:R.kd,payload:a,meta:{query:d},error:!0})),n((0,E.V9)(null==e?void 0:e.faqQuery,t.message))})}})}};var q=a(12616),B=a(48403),L=a(6935),T=a(99656),N=a.n(T),services_parseRefinementSuggestionEnabled=e=>{let{enableRefinementsSuggestions:t}=e;return!!N()(t)||("boolean"==typeof t?!0===t:"true"===t)};let handleSponsoreds=e=>{let{asPath:t,headers:a}=e;return async(e,r)=>{await (0,d.I)("Search/fetchSponsoreds",async()=>{let n=Object.keys(i().parse(t)),o=r(),l=(0,m.dZ)(o),s=(0,m.eb)(o),c=(0,m.iG)(o),d=(0,m.MU)(o),u=(0,y.qD)(o),v="default"===l&&1===s&&!(n.length>2)&&!c;v?await e(fetchSponsored(null==d?void 0:d.refinements,(null==d?void 0:d.query)||u,{headers:a})):e(sponsoredFetchSkipped())})}},fetchSearch=e=>{let{userToken:t,headers:a,asPath:r,isDealsPage:n,isFromInfinityScroll:o}=e;return async(e,i)=>{await (0,d.I)("Search/fetchAllHits",async()=>{await (0,l.dC)(async()=>{let l=i(),c=(0,m.eb)(l),d=(0,q.xK)(l),u=parseInt((0,m.Lm)(l)||s.Gg.DEFAULT,10),v=(0,m.sh)(l),p=(0,m.MU)(l),h=o?d.page+1:0,f=n?h:c-1,y={...p,enablePriceTipsRequest:n,hitsPerPage:u,query:v,userToken:t,page:f,faqQuery:p.isCategoryPage?p.pageTitle:v},g=(0,m.dZ)(l)||"default";n?y.sortBy="default"===g?"lowering_percentage_desc":g:y.sortBy=g;let S=[e(fetchAllHits(y,a,o,n)),e(handleSponsoreds({asPath:r,headers:a}))];return Promise.all(S)})})}},fetchOther=()=>async(e,t)=>{await (0,d.I)("Search/fetchOther",async()=>{let a=t(),r=(0,y.nV)(a),n=[e(fetch(r))];await Promise.all(n)})},newSetInitialInformation=e=>{let{isDealsPage:t,deviceType:a,userToken:r,loggedUser:n}=e;return async e=>{t&&await (0,v.Z)("deals-page"),(0,l.dC)(()=>{e((0,S.dP)(r)),e((0,S.tB)(a)),e((0,S.ON)("search_page")),n&&e((0,B.Qv)(n))})}},x=["/supersaldao","/cata-pechincha","/saldao"],searchStateFromUrl=e=>{let{asPath:t,isCategory:a=!1}=e;return e=>{var r,o,l;let c=t.includes("?")?i().parse(t.substring(t.indexOf("?")+1)):{};c.query=c.q||"",c.page=(null==c?void 0:c.page)?Number.parseInt(c.page.toString(),10):1,c.hitsPerPage=(null===(r=c.hitsPerPage)||void 0===r?void 0:r.toString())||s.Gg.DEFAULT,c.sortBy=c.sortBy||"default";let d=t.split("?")[0];c.isDealsPage=x.includes(d);let u=!1,v=c.refinements&&c.refinements.filter(e=>"categoryId"===e.id)[0];v&&(u=(null==v?void 0:null===(o=v.values)||void 0===o?void 0:o.length)===1&&(null==v?void 0:null===(l=v.values)||void 0===l?void 0:l.includes(s.at))),c.isCategoryPage=a&&!u,!0===c.isDealsPage&&n()(c.refinements)&&(c.refinements=[{id:"stamps",values:["HighLoweringPercentual"]}]);let p=c.refinements&&c.refinements.map(e=>{if(null==e?void 0:e.ranges){var t,a,r,n;let o={min:Number.parseInt(null==e?void 0:null===(a=e.ranges)||void 0===a?void 0:null===(t=a.min)||void 0===t?void 0:t.toString(),10),max:Number.parseInt(null==e?void 0:null===(n=e.ranges)||void 0===n?void 0:null===(r=n.max)||void 0===r?void 0:r.toString(),10)};return{...e,ranges:o}}return e});c.enableRefinementsSuggestions=services_parseRefinementSuggestionEnabled(c),delete c.q,e((0,S.UH)({...c,refinements:(0,L.m)({refinements:p})}))}}},81016:function(e,t,a){a.d(t,{Z:function(){return S}});var r=a(52971),n=a(34788),o=a(60698),i=a(95773),l=a(69595),s=a(86567),c=a(66057),d=a(43102),u=a.n(d),v=a(82156);let dealsShowcaseFetch=(e,t)=>{let a=u().stringify({tenant:"DEFAULT",affiliateId:e,brand:t}),r="/sherlock/serp_deal/1?".concat(a);return(0,v.Z)(r)};var p=a(63138),h=a(44942);let normalizeDealsShowcase=e=>{var t,a,r;let{featuredOffers:n}=e,o=null==n?void 0:null===(t=n.result)||void 0===t?void 0:t.title,i=null==n?void 0:null===(a=n.result)||void 0===a?void 0:a.subtitle,l=null==n?void 0:null===(r=n.result)||void 0===r?void 0:r.cards,s=l.map(e=>{var t,a,r,n,o,i,l,s,c,d,u,v,p,h,f,y,g,S,m,b,w;return{offerId:null==e?void 0:e.offerId,offerName:null==e?void 0:null===(t=e.offer)||void 0===t?void 0:t.name,status:null==e?void 0:null===(a=e.offer)||void 0===a?void 0:a.status,offerImageUrl:null==e?void 0:null===(s=e.images)||void 0===s?void 0:null===(l=s[0])||void 0===l?void 0:null===(i=l._embedded)||void 0===i?void 0:null===(o=i["zoom_rels:images"])||void 0===o?void 0:null===(n=o[0])||void 0===n?void 0:null===(r=n.urls)||void 0===r?void 0:r.original_image,offerLink:null==e?void 0:null===(c=e.offer)||void 0===c?void 0:c.url,expirationDate:null==e?void 0:e.expirationDate,offerPrice:{basePrice:null==e?void 0:null===(d=e.salesCondition)||void 0===d?void 0:d.base_price,finalPrice:null==e?void 0:null===(u=e.salesCondition)||void 0===u?void 0:u.list_price,loweringPercentage:null==e?void 0:null===(v=e.salesCondition)||void 0===v?void 0:v.lowering_percentage},offerCashback:{value:null==e?void 0:null===(p=e.cashback)||void 0===p?void 0:p.cashbackValue,rate:null==e?void 0:null===(f=e.cashback)||void 0===f?void 0:null===(h=f.formula)||void 0===h?void 0:h.cashbackRate,type:null==e?void 0:null===(g=e.cashback)||void 0===g?void 0:null===(y=g.formula)||void 0===y?void 0:y.modalityCashbackType},offerMerchant:{id:null==e?void 0:null===(S=e.seller)||void 0===S?void 0:S.id,name:null==e?void 0:null===(m=e.seller)||void 0===m?void 0:m.name,logoUrl:null==e?void 0:null===(w=e.seller)||void 0===w?void 0:null===(b=w.rounded_logo_urls)||void 0===b?void 0:b.small}}});return{title:o,subtitle:i,dealsOffers:s}},fetchDealsShowcase=()=>async(e,t)=>{let a=t(),r=(0,p.Q)(a),n=(null==r?void 0:r.dealsShowcase.dealsOffers.length)>0,o=null==r?void 0:r.isFetching;if(n||o){e({type:h.qi});return}try{e({type:h.v8,isFetching:!0});let t=await dealsShowcaseFetch(c.default.CASHBACK_AFFILIATE_ID_WEB,c.default.BRAND_NAME_LOWERED),a=normalizeDealsShowcase(t);e({type:h.xT,payload:a})}catch(t){e({type:h.YH,error:!0})}};var f=a(31351),y=a(98904),g=a(27506);let getDeviceType=e=>{var t;let a=(0,i.Z)(l.Z?null==e?void 0:null===(t=e.req)||void 0===t?void 0:t.headers["user-agent"]:navigator.userAgent)?"mobile":"desktop";return a},handleHitsPerPage=e=>{if(!e)return;let t=r.Gg.DEFAULT,a=parseInt(r.Gg.MAX,10),n=parseInt((0,y.Lm)(e.reduxStore.getState()),10);(!n||n>a)&&e.reduxStore.dispatch((0,f.EN)(t))},searchServerSideFetch=async e=>{let t=e.reduxStore.getState(),a=(0,s.Ej)(null==e?void 0:e.req),r=(0,n.ZP)(e),i=getDeviceType(e),c=(0,y.iG)(t);await e.reduxStore.dispatch((0,g.h)({isDealsPage:c,userToken:a,deviceType:i,loggedUser:r})),handleHitsPerPage(e),await e.reduxStore.dispatch((0,g.on)({headers:(0,o.Z)(e,l.Z),userToken:a,isDealsPage:c,asPath:e.asPath})),c&&await e.reduxStore.dispatch(fetchDealsShowcase()),await e.reduxStore.dispatch((0,g.mY)())};var S=searchServerSideFetch}}]);